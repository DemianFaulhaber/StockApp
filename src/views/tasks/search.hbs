<link rel="stylesheet" href="/css/ventas.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<tbody>
    <div class="container text-center">
        <form action="search" method="GET">
            <input type="text" name="nombre" placeholder="search...">
        </form>
    </div>
    <div class="all-container">
        <div class="container bg-secondary p-0 m-0 ">
            <ul class="row p-0 m-0 d-flex gap-1 d-flex justify-content-center mt-3">
                {{#each productos}}
                <div class="card col-sm-6 col-md-4 p-0 gap-1">
                    <div class="card-body">
                        <ul class="p0 bg-white">
                            <li class="d-flex justify-content-between ">codigo: {{codigo}}<button class="edit-code" data-id="{{id}}" data-modifier="codigo"><i class="bi bi-pencil-fill"></i></button></li>
                            <li class="d-flex justify-content-between ">nombre: {{nombre}} x{{presentacion}}kg</b><button class="edit-name" data-id="{{id}}" data-modifier="nombre"><i class="bi bi-pencil-fill"></i></button></li>
                            <li class="d-flex justify-content-between ">precio: ${{precio}}</b><button class="edit-price" data-id="{{id}}" data-modifier="precio"><i class="bi bi-pencil-fill"></i></button></li>
                            <li class="d-flex justify-content-between ">stock: {{stock}}</b><button class="edit-stock" data-id="{{id}}" data-modifier="stock"><i class="bi bi-pencil-fill"></i></button></li>
                            <li class="d-flex justify-content-center "><button class="trashcan" data-codigo="{{codigo}}"><i class="bi bi-trash"></i></button></li>
                        </ul>
                    </div>
                </div>
                {{/each}}
            </ul>
        </div>
    </div>
    {{!-- <script src="/js/gallery"></script> --}}
    <script>
        const selectall = document.getElementById("selectall")
        const selects = document.getElementsByClassName("select")
        const comps = document.getElementsByClassName("comps")
        selectall.addEventListener('click', function(){
            if(selectall.checked === true){
                for(let select of selects){
                    select.checked = true
            }
                }
            if(selectall.checked === false){
                for(let select of selects){
                    select.checked = false
                }
            }
        })
        for(let comp of comps){
            comp.addEventListener('click', function(){
                const price = comp.dataset.precio
                let newprice = prompt("inserte el nuevo precio:")
                let percentdif = ((newprice - price) / price) * 100
                alert("el producto a aumentado un "+percentdif+"%")
            })
        }
    </script>
</tbody>